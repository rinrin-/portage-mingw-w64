diff -BurN subversion-1.7.5.old/build-outputs.mk subversion-1.7.5/build-outputs.mk
--- subversion-1.7.5.old/build-outputs.mk	2012-05-11 02:52:00.000000000 +0800
+++ subversion-1.7.5/build-outputs.mk	2012-07-09 13:08:25.784946300 +0800
@@ -379,8 +379,8 @@
 	cd subversion/libsvn_repos && $(LINK_LIB) $(libsvn_repos_LDFLAGS) -o libsvn_repos-1.la $(LT_NO_UNDEFINED) $(libsvn_repos_OBJECTS) ../../subversion/libsvn_fs/libsvn_fs-1.la ../../subversion/libsvn_delta/libsvn_delta-1.la ../../subversion/libsvn_subr/libsvn_subr-1.la $(SVN_APRUTIL_LIBS) $(SVN_APR_LIBS) $(LIBS)
 
 libsvn_subr_PATH = subversion/libsvn_subr
-libsvn_subr_DEPS =  subversion/libsvn_subr/adler32.lo subversion/libsvn_subr/atomic.lo subversion/libsvn_subr/auth.lo subversion/libsvn_subr/cache-inprocess.lo subversion/libsvn_subr/cache-membuffer.lo subversion/libsvn_subr/cache-memcache.lo subversion/libsvn_subr/cache.lo subversion/libsvn_subr/checksum.lo subversion/libsvn_subr/cmdline.lo subversion/libsvn_subr/compat.lo subversion/libsvn_subr/config.lo subversion/libsvn_subr/config_auth.lo subversion/libsvn_subr/config_file.lo subversion/libsvn_subr/config_win.lo subversion/libsvn_subr/constructors.lo subversion/libsvn_subr/ctype.lo subversion/libsvn_subr/date.lo subversion/libsvn_subr/debug.lo subversion/libsvn_subr/deprecated.lo subversion/libsvn_subr/dirent_uri.lo subversion/libsvn_subr/dso.lo subversion/libsvn_subr/eol.lo subversion/libsvn_subr/error.lo subversion/libsvn_subr/hash.lo subversion/libsvn_subr/io.lo subversion/libsvn_subr/iter.lo subversion/libsvn_subr/kitchensink.lo subversion/libsvn_subr/lock.lo subversion/libsvn_subr/log.lo subversion/libsvn_subr/macos_keychain.lo subversion/libsvn_subr/magic.lo subversion/libsvn_subr/md5.lo subversion/libsvn_subr/mergeinfo.lo subversion/libsvn_subr/nls.lo subversion/libsvn_subr/opt.lo subversion/libsvn_subr/path.lo subversion/libsvn_subr/pool.lo subversion/libsvn_subr/prompt.lo subversion/libsvn_subr/properties.lo subversion/libsvn_subr/quoprint.lo subversion/libsvn_subr/sha1.lo subversion/libsvn_subr/simple_providers.lo subversion/libsvn_subr/skel.lo subversion/libsvn_subr/sorts.lo subversion/libsvn_subr/sqlite.lo subversion/libsvn_subr/ssl_client_cert_providers.lo subversion/libsvn_subr/ssl_client_cert_pw_providers.lo subversion/libsvn_subr/ssl_server_trust_providers.lo subversion/libsvn_subr/stream.lo subversion/libsvn_subr/subst.lo subversion/libsvn_subr/svn_base64.lo subversion/libsvn_subr/svn_cache_config.lo subversion/libsvn_subr/svn_string.lo subversion/libsvn_subr/svn_temp_serializer.lo subversion/libsvn_subr/target.lo subversion/libsvn_subr/time.lo subversion/libsvn_subr/token.lo subversion/libsvn_subr/user.lo subversion/libsvn_subr/username_providers.lo subversion/libsvn_subr/utf.lo subversion/libsvn_subr/utf_validate.lo subversion/libsvn_subr/validate.lo subversion/libsvn_subr/version.lo subversion/libsvn_subr/win32_crashrpt.lo subversion/libsvn_subr/win32_crypto.lo subversion/libsvn_subr/win32_xlate.lo subversion/libsvn_subr/xml.lo
-libsvn_subr_OBJECTS = adler32.lo atomic.lo auth.lo cache-inprocess.lo cache-membuffer.lo cache-memcache.lo cache.lo checksum.lo cmdline.lo compat.lo config.lo config_auth.lo config_file.lo config_win.lo constructors.lo ctype.lo date.lo debug.lo deprecated.lo dirent_uri.lo dso.lo eol.lo error.lo hash.lo io.lo iter.lo kitchensink.lo lock.lo log.lo macos_keychain.lo magic.lo md5.lo mergeinfo.lo nls.lo opt.lo path.lo pool.lo prompt.lo properties.lo quoprint.lo sha1.lo simple_providers.lo skel.lo sorts.lo sqlite.lo ssl_client_cert_providers.lo ssl_client_cert_pw_providers.lo ssl_server_trust_providers.lo stream.lo subst.lo svn_base64.lo svn_cache_config.lo svn_string.lo svn_temp_serializer.lo target.lo time.lo token.lo user.lo username_providers.lo utf.lo utf_validate.lo validate.lo version.lo win32_crashrpt.lo win32_crypto.lo win32_xlate.lo xml.lo
+libsvn_subr_DEPS =  subversion/libsvn_subr/adler32.lo subversion/libsvn_subr/atomic.lo subversion/libsvn_subr/auth.lo subversion/libsvn_subr/cache-inprocess.lo subversion/libsvn_subr/cache-membuffer.lo subversion/libsvn_subr/cache-memcache.lo subversion/libsvn_subr/cache.lo subversion/libsvn_subr/checksum.lo subversion/libsvn_subr/cmdline.lo subversion/libsvn_subr/compat.lo subversion/libsvn_subr/config.lo subversion/libsvn_subr/config_auth.lo subversion/libsvn_subr/config_file.lo subversion/libsvn_subr/config_win.lo subversion/libsvn_subr/constructors.lo subversion/libsvn_subr/ctype.lo subversion/libsvn_subr/date.lo subversion/libsvn_subr/debug.lo subversion/libsvn_subr/deprecated.lo subversion/libsvn_subr/dirent_uri.lo subversion/libsvn_subr/dso.lo subversion/libsvn_subr/eol.lo subversion/libsvn_subr/error.lo subversion/libsvn_subr/hash.lo subversion/libsvn_subr/io.lo subversion/libsvn_subr/iter.lo subversion/libsvn_subr/kitchensink.lo subversion/libsvn_subr/lock.lo subversion/libsvn_subr/log.lo subversion/libsvn_subr/macos_keychain.lo subversion/libsvn_subr/magic.lo subversion/libsvn_subr/md5.lo subversion/libsvn_subr/mergeinfo.lo subversion/libsvn_subr/nls.lo subversion/libsvn_subr/opt.lo subversion/libsvn_subr/path.lo subversion/libsvn_subr/pool.lo subversion/libsvn_subr/prompt.lo subversion/libsvn_subr/properties.lo subversion/libsvn_subr/quoprint.lo subversion/libsvn_subr/sha1.lo subversion/libsvn_subr/simple_providers.lo subversion/libsvn_subr/skel.lo subversion/libsvn_subr/sorts.lo subversion/libsvn_subr/sqlite.lo subversion/libsvn_subr/ssl_client_cert_providers.lo subversion/libsvn_subr/ssl_client_cert_pw_providers.lo subversion/libsvn_subr/ssl_server_trust_providers.lo subversion/libsvn_subr/stream.lo subversion/libsvn_subr/subst.lo subversion/libsvn_subr/svn_base64.lo subversion/libsvn_subr/svn_cache_config.lo subversion/libsvn_subr/svn_string.lo subversion/libsvn_subr/svn_temp_serializer.lo subversion/libsvn_subr/target.lo subversion/libsvn_subr/time.lo subversion/libsvn_subr/token.lo subversion/libsvn_subr/user.lo subversion/libsvn_subr/username_providers.lo subversion/libsvn_subr/utf.lo subversion/libsvn_subr/utf_validate.lo subversion/libsvn_subr/validate.lo subversion/libsvn_subr/version.lo subversion/libsvn_subr/win32_crashrpt.lo subversion/libsvn_subr/win32_crypto.lo subversion/libsvn_subr/win32_xlate.lo subversion/libsvn_subr/xml.lo subversion/libsvn_subr/win32_clsid.lo
+libsvn_subr_OBJECTS = adler32.lo atomic.lo auth.lo cache-inprocess.lo cache-membuffer.lo cache-memcache.lo cache.lo checksum.lo cmdline.lo compat.lo config.lo config_auth.lo config_file.lo config_win.lo constructors.lo ctype.lo date.lo debug.lo deprecated.lo dirent_uri.lo dso.lo eol.lo error.lo hash.lo io.lo iter.lo kitchensink.lo lock.lo log.lo macos_keychain.lo magic.lo md5.lo mergeinfo.lo nls.lo opt.lo path.lo pool.lo prompt.lo properties.lo quoprint.lo sha1.lo simple_providers.lo skel.lo sorts.lo sqlite.lo ssl_client_cert_providers.lo ssl_client_cert_pw_providers.lo ssl_server_trust_providers.lo stream.lo subst.lo svn_base64.lo svn_cache_config.lo svn_string.lo svn_temp_serializer.lo target.lo time.lo token.lo user.lo username_providers.lo utf.lo utf_validate.lo validate.lo version.lo win32_crashrpt.lo win32_crypto.lo win32_xlate.lo xml.lo win32_clsid.lo
 subversion/libsvn_subr/libsvn_subr-1.la: $(libsvn_subr_DEPS)
 	cd subversion/libsvn_subr && $(LINK_LIB) $(libsvn_subr_LDFLAGS) -o libsvn_subr-1.la $(LT_NO_UNDEFINED) $(libsvn_subr_OBJECTS) $(SVN_APRUTIL_LIBS) $(SVN_APR_LIBS) $(SVN_XML_LIBS) $(SVN_ZLIB_LIBS) $(SVN_APR_MEMCACHE_LIBS) $(SVN_SQLITE_LIBS) $(SVN_MAGIC_LIBS) $(LIBS)
 
@@ -2268,6 +2268,8 @@
 
 subversion/libsvn_subr/xml.lo: subversion/libsvn_subr/xml.c subversion/include/private/svn_debug.h subversion/include/private/svn_utf_private.h subversion/include/svn_ctype.h subversion/include/svn_error.h subversion/include/svn_error_codes.h subversion/include/svn_pools.h subversion/include/svn_string.h subversion/include/svn_types.h subversion/include/svn_xml.h subversion/svn_private_config.h
 
+subversion/libsvn_subr/win32_clsid.lo: subversion/libsvn_subr/win32_clsid.c
+
 subversion/libsvn_wc/adm_crawler.lo: subversion/libsvn_wc/adm_crawler.c subversion/include/private/svn_debug.h subversion/include/private/svn_skel.h subversion/include/private/svn_sqlite.h subversion/include/private/svn_token.h subversion/include/private/svn_wc_private.h subversion/include/svn_auth.h subversion/include/svn_checksum.h subversion/include/svn_config.h subversion/include/svn_delta.h subversion/include/svn_dirent_uri.h subversion/include/svn_error.h subversion/include/svn_error_codes.h subversion/include/svn_io.h subversion/include/svn_mergeinfo.h subversion/include/svn_opt.h subversion/include/svn_path.h subversion/include/svn_pools.h subversion/include/svn_props.h subversion/include/svn_ra.h subversion/include/svn_string.h subversion/include/svn_subst.h subversion/include/svn_types.h subversion/include/svn_wc.h subversion/libsvn_wc/adm_files.h subversion/libsvn_wc/conflicts.h subversion/libsvn_wc/props.h subversion/libsvn_wc/translate.h subversion/libsvn_wc/wc.h subversion/libsvn_wc/wc_db.h subversion/libsvn_wc/workqueue.h subversion/svn_private_config.h
 
 subversion/libsvn_wc/adm_files.lo: subversion/libsvn_wc/adm_files.c subversion/include/private/svn_debug.h subversion/include/private/svn_skel.h subversion/include/private/svn_sqlite.h subversion/include/private/svn_token.h subversion/include/private/svn_wc_private.h subversion/include/svn_auth.h subversion/include/svn_checksum.h subversion/include/svn_config.h subversion/include/svn_delta.h subversion/include/svn_dirent_uri.h subversion/include/svn_error.h subversion/include/svn_error_codes.h subversion/include/svn_hash.h subversion/include/svn_io.h subversion/include/svn_mergeinfo.h subversion/include/svn_opt.h subversion/include/svn_path.h subversion/include/svn_props.h subversion/include/svn_ra.h subversion/include/svn_string.h subversion/include/svn_types.h subversion/include/svn_wc.h subversion/libsvn_wc/adm_files.h subversion/libsvn_wc/entries.h subversion/libsvn_wc/lock.h subversion/libsvn_wc/props.h subversion/libsvn_wc/wc.h subversion/libsvn_wc/wc_db.h subversion/svn_private_config.h
diff -BurN subversion-1.7.5.old/configure.ac subversion-1.7.5/configure.ac
--- subversion-1.7.5.old/configure.ac	2011-08-17 21:01:30.000000000 +0800
+++ subversion-1.7.5/configure.ac	2012-07-09 13:08:25.790946700 +0800
@@ -922,6 +922,12 @@
     fi
   fi
 fi
+case $host in
+  *-*-mingw*)
+    libsvn_subr_LDFLAGS="-lole32"
+    svnserve_LDFLAGS="-lws2_32"
+  ;;
+esac
 AC_SUBST([libsvn_auth_gnome_keyring_LDFLAGS])
 AC_SUBST([libsvn_auth_kwallet_LDFLAGS])
 AC_SUBST([libsvn_client_LDFLAGS])
@@ -939,6 +945,7 @@
 AC_SUBST([libsvn_repos_LDFLAGS])
 AC_SUBST([libsvn_subr_LDFLAGS])
 AC_SUBST([libsvn_wc_LDFLAGS])
+AC_SUBST([svnserve_LDFLAGS])
 
 
 AC_ARG_ENABLE(maintainer-mode,
@@ -1089,6 +1096,12 @@
 
 
 PYTHON="`$abs_srcdir/build/find_python.sh`"
+case $host in
+  *-*-mingw*)
+    unset RUBY
+    unset PERL
+  ;;
+esac
 if test -z "$PYTHON"; then
   AC_MSG_WARN([Python 2.4 or later is required to run the testsuite])
   AC_MSG_WARN([or to use the Subversion Python bindings])
diff -BurN subversion-1.7.5.old/Makefile.in subversion-1.7.5/Makefile.in
--- subversion-1.7.5.old/Makefile.in	2011-07-16 19:50:53.000000000 +0800
+++ subversion-1.7.5/Makefile.in	2012-07-09 13:08:25.796947000 +0800
@@ -229,6 +229,7 @@
 libsvn_repos_LDFLAGS = @libsvn_repos_LDFLAGS@
 libsvn_subr_LDFLAGS = @libsvn_subr_LDFLAGS@
 libsvn_wc_LDFLAGS = @libsvn_wc_LDFLAGS@
+svnserve_LDFLAGS = @svnserve_LDFLAGS@
 
 # Compilation of SWIG-generated C source code
 COMPILE_PY_WRAPPER = $(LIBTOOL) $(LTFLAGS) --mode=compile $(SWIG_PY_COMPILE) $(LT_CFLAGS) $(CPPFLAGS) $(SWIG_PY_INCLUDES) -prefer-pic -c -o $@
diff -BurN subversion-1.7.5.old/subversion/libsvn_subr/io.c subversion-1.7.5/subversion/libsvn_subr/io.c
--- subversion-1.7.5.old/subversion/libsvn_subr/io.c	2012-02-06 12:00:17.000000000 +0800
+++ subversion-1.7.5/subversion/libsvn_subr/io.c	2012-07-09 13:08:25.804947500 +0800
@@ -48,7 +48,10 @@
 #include <apr_md5.h>
 
 #ifdef WIN32
-#include <arch/win32/apr_arch_file_io.h>
+typedef apr_uint16_t apr_wchar_t;
+APR_DECLARE(apr_status_t) apr_conv_utf8_to_ucs2(const char *in, apr_size_t *inbytes, apr_wchar_t *out, apr_size_t *outwords);
+#define IF_WIN_OS_IS_UNICODE
+#define APR_FREADONLY 0x10000000
 #endif
 
 #include "svn_types.h"
diff -BurN subversion-1.7.5.old/subversion/libsvn_subr/nls.c subversion-1.7.5/subversion/libsvn_subr/nls.c
--- subversion-1.7.5.old/subversion/libsvn_subr/nls.c	2011-06-03 20:10:49.000000000 +0800
+++ subversion-1.7.5/subversion/libsvn_subr/nls.c	2012-07-09 13:08:25.809947700 +0800
@@ -39,6 +39,10 @@
 
 #include "svn_private_config.h"
 
+#ifdef WIN32
+  #define SVN_LOCALE_RELATIVE_PATH "../share/locale"
+#endif
+
 svn_error_t *
 svn_nls_init(void)
 {
diff -BurN subversion-1.7.5.old/subversion/libsvn_subr/win32_clsid.c subversion-1.7.5/subversion/libsvn_subr/win32_clsid.c
--- subversion-1.7.5.old/subversion/libsvn_subr/win32_clsid.c	1970-01-01 08:00:00.000000000 +0800
+++ subversion-1.7.5/subversion/libsvn_subr/win32_clsid.c	2012-07-09 13:08:25.817948200 +0800
@@ -0,0 +1,6 @@
+#define INITGUID
+#include <basetyps.h>
+
+/* Multi Language Support CLSID */
+DEFINE_GUID(IID_IMultiLanguage,0x275c23e1,0x3747,0x11d0,0x9f,0xea,0,0xaa,0,0x3f,0x86,0x46);
+DEFINE_GUID(CLSID_CMultiLanguage,0x275c23e2,0x3747,0x11d0,0x9f,0xea,0,0xaa,0,0x3f,0x86,0x46);
diff -BurN subversion-1.7.5.old/subversion/libsvn_subr/win32_xlate.c subversion-1.7.5/subversion/libsvn_subr/win32_xlate.c
--- subversion-1.7.5.old/subversion/libsvn_subr/win32_xlate.c	2010-09-07 15:28:10.000000000 +0800
+++ subversion-1.7.5/subversion/libsvn_subr/win32_xlate.c	2012-07-09 13:08:25.822948500 +0800
@@ -71,12 +71,6 @@
   return SVN_NO_ERROR;
 }
 
-typedef struct win32_xlate_t
-{
-  UINT from_page_id;
-  UINT to_page_id;
-} win32_xlate_t;
-
 static apr_status_t
 get_page_id_from_name(UINT *page_id_p, const char *page_name, apr_pool_t *pool)
 {
diff -BurN subversion-1.7.5.old/subversion/libsvn_subr/win32_xlate.h subversion-1.7.5/subversion/libsvn_subr/win32_xlate.h
--- subversion-1.7.5.old/subversion/libsvn_subr/win32_xlate.h	2009-11-17 03:07:17.000000000 +0800
+++ subversion-1.7.5/subversion/libsvn_subr/win32_xlate.h	2012-07-09 13:08:25.831949000 +0800
@@ -27,7 +27,11 @@
 #ifdef WIN32
 
 /* Opaque translation buffer. */
-typedef struct win32_xlate_t win32_xlate_t;
+typedef struct win32_xlate_t
+{
+  UINT from_page_id;
+  UINT to_page_id;
+} win32_xlate_t;
 
 /* Set *XLATE_P to a handle node for converting from FROMPAGE to TOPAGE.
    Returns APR_EINVAL or APR_ENOTIMPL, if a conversion isn't supported.
